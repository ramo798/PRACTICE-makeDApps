<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
<script type="text/javascript">	

	const web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:7545"));
		
	//コントラクトを呼び出すアカウントのアドレス
	let coinbase = web3.eth.accounts[6];
	
	//コントラクトのアドレス
	const address = "0x123e4dfa6aB57db947BFBE20804F644E6aA53154";
    //ABI情報

    const abi = [
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "objects",
      "outputs": [
        {
          "name": "objectname",
          "type": "string"
        },
        {
          "name": "owenername",
          "type": "string"
        },
        {
          "name": "owneradress",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_index",
          "type": "uint256"
        },
        {
          "name": "_objectname",
          "type": "string"
        },
        {
          "name": "_ownername",
          "type": "string"
        }
      ],
      "name": "setOnject",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getObject",
      "outputs": [
        {
          "name": "",
          "type": "string"
        },
        {
          "name": "",
          "type": "string"
        },
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ]
	
	
	//コントラクトのインスタンスを生成
  const contract = web3.eth.contract(abi).at(address);

  // let add1 = contract.setOnject(0,"須佐男","Sasuke",{from:coinbase,gas:3000000});
  // let add2 = contract.setOnject(1,"螺旋丸","Naruto",{from:coinbase,gas:3000000});
  // let add3 = contract.setOnject(2,"きゅうり","Kappa",{from:coinbase,gas:3000000});
  // let add4 = contract.setOnject(3,"MINTIA","ジャスコ",{from:coinbase,gas:3000000});
  // let add5 = contract.setOnject(4,"MACBOOK","APPLE",{from:coinbase,gas:3000000});
    
	// console.log(add5);
  
	let name1 = contract.getObject.call(0);
  console.log("name:",name1[0]);
  console.log("owner:",name1[1]);
  console.log("address:",name1[2]);
  let name2 = contract.getObject.call(1);
  console.log("name:",name2[0]);
  console.log("owner:",name2[1]);
  console.log("address:",name2[2]);
  let name3 = contract.getObject.call(2);
  console.log("name:",name3[0]);
  console.log("owner:",name3[1]);
  console.log("address:",name3[2]);
  let name4 = contract.getObject.call(3);
  console.log("name:",name4[0]);
  console.log("owner:",name4[1]);
  console.log("address:",name4[2]);
  let name5 = contract.getObject.call(4);
  console.log("name:",name5[0]);
  console.log("owner:",name5[1]);
  console.log("address:",name5[2]);


    
</script>
</head>
<body>
 
</body>
</html>